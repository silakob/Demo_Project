
@{
    ViewBag.Title = "Index";
}



<div class="wrapper">
    <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-absolute navbar-transparent">
            <div class="container-fluid">
                <div class="navbar-wrapper">
                    <div class="navbar-toggle d-inline">
                        <button type="button" class="navbar-toggler">
                            <span class="navbar-toggler-bar bar1"></span>
                            <span class="navbar-toggler-bar bar2"></span>
                            <span class="navbar-toggler-bar bar3"></span>
                        </button>
                    </div>

                    <a class="navbar-brand" href="~/Index">Dashboard</a>


                    @*@if (System.Web.HttpContext.Current.Session["station"].ToString() == null)
        {
            <p class="navbar-brand">
                สถานี THDust_001
            </p>
        }
        else
        {
            <p class="navbar-brand">
                สถานี @System.Web.HttpContext.Current.Session["station"].ToString()
            </p>
        }*@

                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-bar navbar-kebab"></span>
                    <span class="navbar-toggler-bar navbar-kebab"></span>
                    <span class="navbar-toggler-bar navbar-kebab"></span>
                </button>

                <div class="collapse navbar-collapse" id="navigation">
                    <ul class="navbar-nav ml-auto">
                        @*<li class="search-bar input-group">
                                <button class="btn btn-link" id="search-button" data-toggle="modal" data-target="#searchModal">
                                    <i class="tim-icons icon-zoom-split"></i>
                                    <span class="d-lg-none d-md-block">Search</span>
                                </button>
                            </li>
                            <li class="dropdown nav-item">
                                <a href="javascript:void(0)" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                    <div class="notification d-none d-lg-block d-xl-block"></div>
                                    <i class="tim-icons icon-sound-wave"></i>
                                    <p class="d-lg-none">
                                        Notifications
                                    </p>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right dropdown-navbar">
                                    <li class="nav-link">
                                        <a href="#" class="nav-item dropdown-item">Mike John responded to your email</a>
                                    </li>
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">You have 5 more tasks</a>
                                    </li>
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">Your friend Michael is in town</a>
                                    </li>
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">Another notification</a>
                                    </li>
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">Another one</a>
                                    </li>
                                </ul>
                            </li>*@
                        <li class="dropdown nav-item">
                            <div class="line-it-button" data-lang="th" data-type="friend" data-lineid="@@lineteamjp" style="height:100px;">
                                <a href="https://line.me/R/ti/g/O7ZnfM7ccO" target="_blank"></a>
                            </div>
                            @Html.ActionLink("Export Excel File", "ExportExcel", "Home", null, new { @class = "btn btn-sm btn-primary btn-simple" })

                            @*<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                    <div class="photo">
                                        <img src="../assets/img/anime3.png" alt="Profile Photo">
                                    </div>
                                    <b class="caret d-none d-lg-block d-xl-block"></b>
                                    <p class="d-lg-none">
                                        Log out
                                    </p>
                                </a>
                                <ul class="dropdown-menu dropdown-navbar">
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">Profile</a>
                                    </li>
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">Settings</a>
                                    </li>
                                    <li class="dropdown-divider"></li>
                                    <li class="nav-link">
                                        <a href="javascript:void(0)" class="nav-item dropdown-item">Log out</a>
                                    </li>
                                </ul>*@
                        </li>
                        <li class="separator d-lg-none"></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- End Navbar -->
        <div class="content">
            <div class="row">

                @* PM 2.5 *@
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="card card-chart">
                                <div class="card-header">
                                    <h3 class="card-title"> PM 2.5</h3>
                                </div>
                                <div class="card-body">
                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div id="pmmicrogram" class="chart" data-percent="0">
                                                        <label id="lblpmmicrogram" class="text-right" style="font-size:45px; font-weight:600"></label>
                                                    </div>
                                                    <div class="chart-bottom-heading">
                                                        <span class="label label-info" style="font-size:45px; font-weight:600">µg/m³</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card card-chart">
                                <div class="card-header">
                                    <h3 class="card-title"> AQI</h3>
                                </div>
                                <div class="card-body">
                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div id="pmaqi" class="chart" data-percent="0">
                                                        <label id="lblpmaqi" class="text-right" style="font-size:45px; font-weight:600"></label>
                                                    </div>
                                                    <div class="chart-bottom-heading">
                                                        <span class="label label-info" style="font-size:45px; font-weight:600">AQI</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card card-chart">
                                <div class="card-header">
                                    <h3 class="card-title"> Temperature</h3>
                                </div>
                                <div class="card-body" style="height:300px;">
                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <i class="fa fa-temperature-high text-info fa-7x"></i>
                                                    </div>
                                                    <div class="col-md-6 text-right">
                                                        <div class="huge">
                                                            @Html.Label("N/A" + " °C", new { @class = "control-label text-center", @style = "font-size:70px;", id = "lblTemp" })
                                                        </div>
                                                        <div></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="card card-chart">
                                <div class="card-header">
                                    <h3 class="card-title"> Humidity</h3>
                                </div>
                                <div class="card-body" style="height:300px;">
                                    <div class="panel panel-success">
                                        <div class="panel-heading">
                                            <div class="col-md-12">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <i class="fas fa-tint text-info fa-7x"></i>
                                                    </div>
                                                    <div class="col-md-6 text-right">
                                                        <div class="huge">
                                                            @Html.Label("N/A" + " %", new { @class = "control-label text-center", @style = "font-size:70px;", id = "lblHumid" })
                                                        </div>
                                                        <div></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>


                <div class="col-lg-4">
                    <div class="card card-chart">
                        <div class="card-header">
                            <a class="navbar-toggler" style="text-decoration: underline; font-size:20px;" data-toggle="collapse" data-target="#panel-collapse" aria-expanded="false" aria-label="Toggle navigation">
                                Realtime Graph <span class="caret"></span>
                            </a>
                            <a class="navbar-toggler" style="text-decoration: underline; font-size:20px;" href="~/Home/Detail" target="_blank">
                                More Detail
                            </a>

                        </div>
                        <div id="panel-collapse" class="card-body collapse" style="height:250px;">
                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    <div class="col-md-12">
                                        <div class="row">

                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div style="width:100%;">
                                        <div id="chart1" style="height:330px;" class="chart-container"></div>
                                    </div>
                                </div>
                            </div>

                            <hr style="border-color:darkgray;" />

                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    <div class="col-md-12">
                                        <div class="row">

                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div style="width:100%;">
                                        <div id="chart2" style="height:330px;" class="chart-container"></div>
                                    </div>
                                </div>
                            </div>

                            <hr style="border-color:darkgray;" />

                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    <div class="col-md-12">
                                        <div class="row">

                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div style="width:100%;">
                                        <div id="chart3" style="height:330px;" class="chart-container"></div>
                                    </div>
                                </div>
                            </div>

                            <hr style="border-color:darkgray;" />

                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    <div class="col-md-12">
                                        <div class="row">

                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div style="width:100%;">
                                        <div id="chart4" style="height:330px;" class="chart-container"></div>
                                    </div>
                                </div>
                            </div>


                            <hr style="border-color:darkgray;" />

                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    <div class="col-md-12">
                                        <div class="row">

                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div style="width:100%;">
                                        <div id="chart5" style="height: 330px;" class="chart-container"></div>
                                    </div>
                                </div>
                            </div>

                            <hr style="border-color:darkgray;" />

                            <div class="panel panel-success">
                                <div class="panel-heading">
                                    <div class="col-md-12">
                                        <div class="row">

                                        </div>
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div style="width:100%;">
                                        <div id="chart6" style="height: 330px;" class="chart-container"></div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>












                @*<div class="col-lg-4">
                        <div class="card card-chart">
                            <div class="card-header">
                                <h5 class="card-category">Total Shipments</h5>
                                <h3 class="card-title"><i class="tim-icons icon-bell-55 text-primary"></i> 763,215</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-area">
                                    <canvas id="chartLinePurple"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card card-chart">
                            <div class="card-header">
                                <h5 class="card-category">Daily Sales</h5>
                                <h3 class="card-title"><i class="tim-icons icon-delivery-fast text-info"></i> 3,500€</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-area">
                                    <canvas id="CountryChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card card-chart">
                            <div class="card-header">
                                <h5 class="card-category">Completed Tasks</h5>
                                <h3 class="card-title"><i class="tim-icons icon-send text-success"></i> 12,100K</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-area">
                                    <canvas id="chartLineGreen"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>*@


            </div>
        </div>
    </div>
</div>



@*<script>
           $(document).ready(function () {
               // Javascript method's body can be found in assets/js/demos.js
               demo.initDashboardPageCharts();

           });
    </script>*@


<script>
    $(function () {
        // Easy pie charts
        $('.chart').easyPieChart({ animate: 1000 });
    });
</script>



<script type="text/javascript">
    var chart1serie, chart2serie, chart3serie, chart4serie;
    var chartdata, chartminmax;
    var seriesArr = new Array();
    /**
     * Request data from the server, add it to the graph and set a timeout
     * to request again
     */
    function requestData1() {
        $.ajax({
            url: '../../home/CallAjax',
            type: "POST",
            contentType: "application/json; charset=utf-8",
            datatype: 'json',
            success: function (json) {
                document.getElementById("lblpmmicrogram").innerHTML = json.with[0].content.Dust;
                var pm = json.with[0].content.Dust
                pm = (pm * 100) / 500;
                $('#pmmicrogram').data('easyPieChart').update(pm);
                if (json.with[0].content.Dust < 200) {
                    if (json.with[0].content.Dust < 100) {
                        if (json.with[0].content.Dust < 50) {
                            $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#009865'; //50
                        } else {
                            $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#fddf33';
                        }
                    } else {
                        if (json.with[0].content.Dust < 150) {
                            $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#ff9835';
                        } else {
                            $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#ce0031';
                        }
                    }
                } else {
                    if (json.with[0].content.Dust < 400) {
                        if (json.with[0].content.Dust < 300) {
                            $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#68009a';
                        } else {
                            $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#7a0323';
                        }
                    } else {
                        $('#pmmicrogram').data('easyPieChart').options['barColor'] = '#800023';
                    }
                }


                var aqi = json.with[0].content.AQI
                aqi = (aqi * 100) / 500;
                $("#pmaqi").data('easyPieChart').update(aqi);
                if (json.with[0].content.AQI < 200) {
                    if (json.with[0].content.AQI < 100) {
                        if (json.with[0].content.AQI < 50) {
                            $('#pmaqi').data('easyPieChart').options['barColor'] = '#009865'; //50
                        } else {
                            $('#pmaqi').data('easyPieChart').options['barColor'] = '#fddf33';
                        }
                    } else {
                        if (json.with[0].content.AQI < 150) {
                            $('#pmaqi').data('easyPieChart').options['barColor'] = '#ff9835';
                        } else {
                            $('#pmaqi').data('easyPieChart').options['barColor'] = '#ce0031';
                        }
                    }
                } else {
                    if (json.with[0].content.AQI < 400) {
                        if (json.with[0].content.AQI < 300) {
                            $('#pmaqi').data('easyPieChart').options['barColor'] = '#68009a';
                        } else {
                            $('#pmaqi').data('easyPieChart').options['barColor'] = '#7a0323';
                        }
                    } else {
                        $('#pmaqi').data('easyPieChart').options['barColor'] = '#800023';
                    }
                }


                document.getElementById("lblpmaqi").innerHTML = json.with[0].content.AQI;

                document.getElementById("lblHumid").innerHTML = json.with[0].content.Hum + "%";
                document.getElementById("lblTemp").innerHTML = json.with[0].content.Temp + "  °C";


                // add the point
                var series = chart1serie.series[0],
                    shift = series.data.length > 20; // shift if the series is longer than 20
                var date = Date.now();
                //debugger;
                chart1serie.series[0].addPoint([date, json.with[0].content.Dust], true, shift);
                chartdata.series[0].addPoint([date, json.with[0].content.Dust], true, shift);

                chart2serie.series[0].addPoint([date, json.with[0].content.AQI], true, shift);
                chartdata.series[1].addPoint([date, json.with[0].content.AQI], true, shift);

                chart3serie.series[0].addPoint([date, json.with[0].content.Temp], true, shift);
                chartdata.series[2].addPoint([date, json.with[0].content.Temp], true, shift);

                chart4serie.series[0].addPoint([date, json.with[0].content.Hum], true, shift);
                chartdata.series[3].addPoint([date, json.with[0].content.Hum], true, shift);

                setTimeout(requestData1, 30000);
            },
            cache: false
        });

    }

    $(document).ready(function () {
        $.ajax({
            url: '../../home/GetMinMax',
            type: "POST",
            datatype: 'json',
            contentType: "application/json; charset=utf-8",
            success: function (arr) {
                // add the point


                seriesArr = [{
                    "name": "Min PM 2.5 (µg/m³)",
                    "y": arr[0]
                }, {
                    "name": "Max PM 2.5 (µg/m³)",
                    "y": arr[1]
                }, {
                    "name": "Min AQI",
                    "y": arr[2]
                }, {
                    "name": "Max AQI",
                    "y": arr[3]
                }];
                requestMinMax(seriesArr);

                setTimeout(requestMinMax(seriesArr), 30000);
            },
            cache: false
        });
    });


    // -----------------------Dust Sensor-----------------------------------

    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                //timezoneOffset: 7 * 60
                useUTC: false
            }
        });
        chart1serie = new Highcharts.Chart({
            chart: {
                renderTo: 'chart1',
                zoomType: 'x',
                backgroundColor: 'transparent',
                events: {
                    load: requestData1
                }
            },
            title: {
                text: 'PM 2.5 (µg/m³)',
                style: {
                    color: 'silver'
                }
            },
            xAxis: {
                type: 'datetime',
                title: {
                    text: 'Time',
                    margin: 8
                }
            },
            yAxis: {
                min: 0,
                max: 500,
                minPadding: 0.2,
                maxPadding: 0.2,
                title: {
                    text: 'PM 25 Value (µg/m³)',
                    margin: 8
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    threshold: null
                }
            },
            series: [{
                type: 'area',
                name: ' ',
                data: [],
                zones: [{
                    value: 50, // Values up to 10 (not including) ...
                    color: '#009865' // ... have the color blue.
                }, {
                    value: 100, // Values up to 10 (not including) ...
                    color: '#fddf33' // ... have the color blue.
                }, {
                    value: 150, // Values up to 10 (not including) ...
                    color: '#ff9835' // ... have the color blue.
                }, {
                    value: 200, // Values up to 10 (not including) ...
                    color: '#ce0031' // ... have the color blue.
                }, {
                    value: 300, // Values up to 10 (not including) ...
                    color: '#68009a' // ... have the color blue.
                }, {
                    value: 400, // Values up to 10 (not including) ...
                    color: '#7a0323' // ... have the color blue.
                }, {
                    color: '#800023' // Values from 10 (including) and up have the color red
                }],
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }]
        });
    });


    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                timezoneOffset: -7 * 60
            }
        });
        chart2serie = new Highcharts.Chart({
            chart: {
                renderTo: 'chart2',
                zoomType: 'x',
                backgroundColor: 'transparent'
                //events: {
                //    load: requestData2
                //}
            },
            title: {
                text: 'AQI',
                style: {
                    color: 'silver'
                }
            },
            xAxis: {
                type: 'datetime',
                title: {
                    text: 'Time',
                    margin: 8
                }
            },
            yAxis: {
                min: 0,
                max: 500,
                minPadding: 0.2,
                maxPadding: 0.2,
                title: {
                    text: 'AQI Value',
                    margin: 8
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    threshold: null
                }
            },
            series: [{
                type: 'area',
                name: ' ',
                data: chart2serie,
                zones: [{
                    value: 50, // Values up to 10 (not including) ...
                    color: '#009865' // ... have the color blue.
                }, {
                    value: 100, // Values up to 10 (not including) ...
                    color: '#fddf33' // ... have the color blue.
                }, {
                    value: 150, // Values up to 10 (not including) ...
                    color: '#ff9835' // ... have the color blue.
                }, {
                    value: 200, // Values up to 10 (not including) ...
                    color: '#ce0031' // ... have the color blue.
                }, {
                    value: 300, // Values up to 10 (not including) ...
                    color: '#68009a' // ... have the color blue.
                }, {
                    value: 400, // Values up to 10 (not including) ...
                    color: '#7a0323' // ... have the color blue.
                }, {
                    color: '#800023' // Values from 10 (including) and up have the color red
                }],
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }]
        });
    });

    // -----------------------Temperature Sensor----------------------------

    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                timezoneOffset: -7 * 60
            }
        });
        chart3serie = new Highcharts.Chart({
            chart: {
                renderTo: 'chart3',
                zoomType: 'x',
                backgroundColor: 'transparent'
                //events: {
                //    load: requestData3
                //}
            },
            title: {
                text: 'Temperature (°C)',
                style: {
                    color: 'silver'
                }
            },
            xAxis: {
                type: 'datetime',
                title: {
                    text: 'Time',
                    margin: 8
                }
            },
            yAxis: {
                min: 0,
                max: 300,
                minPadding: 0.2,
                maxPadding: 0.2,
                title: {
                    text: 'Temperature Value (°C)',
                    margin: 8
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    fillColor: {
                        linearGradient: {
                            x1: 0,
                            y1: 0,
                            x2: 0,
                            y2: 1
                        },
                        stops: [
                            [0, '#1d8cf8'],
                            [1, '#F1F7FD']
                        ]
                    },
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    threshold: null
                }
            },
            series: [{
                type: 'spline',
                name: ' ',
                data: chart3serie,
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }]
        });
    });

    // -----------------------Humidity Sensor-------------------------------

    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                timezoneOffset: -7 * 60
            }
        });
        chart4serie = new Highcharts.Chart({
            chart: {
                renderTo: 'chart4',
                zoomType: 'x',
                backgroundColor: 'transparent'
                //events: {
                //    load: requestData4
                //}
            },
            title: {
                text: 'Humidity (%)',
                style: {
                    color: 'silver'
                }
            },
            xAxis: {
                type: 'datetime',
                title: {
                    text: 'Time',
                    margin: 8
                }
            },
            yAxis: {
                min: 0,
                max: 300,
                minPadding: 0.2,
                maxPadding: 0.2,
                title: {
                    text: 'Humidity Value (%)',
                    margin: 8
                }
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                area: {
                    fillColor: {
                        linearGradient: {
                            x1: 0,
                            y1: 0,
                            x2: 0,
                            y2: 1
                        },
                        stops: [
                            [0, '#1d8cf8'],
                            [1, '#F1F7FD']
                        ]
                    },
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    threshold: null
                }
            },
            series: [{
                type: 'spline',
                name: ' ',
                data: chart4serie,
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }]
        });
    });

    // -----------------------All Chart-------------------------------------

    $(document).ready(function () {
        Highcharts.setOptions({
            global: {
                timezoneOffset: -7 * 60
            }
        });
        chartdata = new Highcharts.Chart({
            chart: {
                type: 'spline',
                renderTo: 'chart5',
                zoomType: 'x',
                backgroundColor: 'transparent'
            },
            title: {
                text: 'All Charts',
                style: {
                    color: 'silver'
                }
            },
            xAxis: {
                type: 'datetime',
                title: {
                    text: 'Time',
                    margin: 8
                }
            },
            yAxis: {
                min: 0,
                max: 300,
                minPadding: 0.2,
                maxPadding: 0.2,
                title: {
                    text: 'Value',
                    margin: 8
                }
            },
            legend: {
                enabled: true,
                itemStyle: {
                    color: 'green',
                    fontSize: '15px'

                },
                itemHoverStyle: {
                    color: '#FFF'
                },
                itemHiddenStyle: {
                    color: '#444'
                }
            },
            plotOptions: {
                area: {
                    marker: {
                        radius: 2
                    },
                    lineWidth: 1,
                    states: {
                        hover: {
                            lineWidth: 2
                        }
                    },
                    threshold: null
                }
            },
            series: [{
                name: 'PM 2.5 (µg/m³)',
                data: [],
                color: 'red',
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            },
            {
                name: 'AQI',
                data: [],
                color: 'orange',
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }, {
                name: 'Temperature',
                data: [],
                color: 'yellow',
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }, {
                name: 'Humidity',
                data: [],
                color: '#1d8cf8',
                dataLabels: {
                    format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                        ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'silver') + '">{y}</span><br/>' +
                        '<span style="font-size:12px;color:silver">°C</span></div>'
                }
            }]
        });
    });

    // -----------------------Min Max-------------------------------------

    function requestMinMax(seriesArr) {
        chartminmax = new Highcharts.Chart({
            chart: {
                renderTo: 'chart6',
                backgroundColor: 'transparent',
                type: 'column'
            },
            title: {
                text: 'PM/AQI Min and Max values',
                style: {
                    color: 'silver'
                }
            },
            xAxis: {
                type: 'category'
            },
            yAxis: {
                min: 0,
                max: 400,
                title: {
                    text: 'Values'
                }

            },
            legend: {
                enabled: false
            },
            plotOptions: {
                series: {
                    borderWidth: 0,
                    dataLabels: {
                        enabled: true,
                        format: '{point.y:.1f}'
                    }
                }
            },

            tooltip: {
                headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
            },

            "series": [{
                "colorByPoint": true,
                data: seriesArr
            }]
        });
    }

</script>




<!--   Core JS Files   -->
@*<script src="~/assets/js/core/jquery.min.js"></script>
    <script src="~/assets/js/core/popper.min.js"></script>
    <script src="~/assets/js/core/bootstrap.min.js"></script>*@
<script src="~/assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
<!-- Chart JS -->
<script src="~/assets/js/plugins/chartjs.min.js"></script>
<!--  Notifications Plugin    -->
<script src="~/assets/js/plugins/bootstrap-notify.js"></script>
<!-- Control Center for Black Dashboard: parallax effects, scripts for the example pages etc -->
<script src="~/assets/js/black-dashboard.min.js?v=1.0.0"></script>
<!-- Black Dashboard DEMO methods, don't include it in your project! -->
<script src="~/assets/demo/demo.js"></script>
<script>
    $(document).ready(function () {
        $().ready(function () {
            $sidebar = $('.sidebar');
            $navbar = $('.navbar');
            $main_panel = $('.main-panel');

            $full_page = $('.full-page');

            $sidebar_responsive = $('body > .navbar-collapse');
            sidebar_mini_active = true;
            white_color = false;

            window_width = $(window).width();

            fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();



            $('.fixed-plugin a').click(function (event) {
                if ($(this).hasClass('switch-trigger')) {
                    if (event.stopPropagation) {
                        event.stopPropagation();
                    } else if (window.event) {
                        window.event.cancelBubble = true;
                    }
                }
            });

            $('.fixed-plugin .background-color span').click(function () {
                $(this).siblings().removeClass('active');
                $(this).addClass('active');

                var new_color = $(this).data('color');

                if ($sidebar.length != 0) {
                    $sidebar.attr('data', new_color);
                }

                if ($main_panel.length != 0) {
                    $main_panel.attr('data', new_color);
                }

                if ($full_page.length != 0) {
                    $full_page.attr('filter-color', new_color);
                }

                if ($sidebar_responsive.length != 0) {
                    $sidebar_responsive.attr('data', new_color);
                }
            });

            $('.switch-sidebar-mini input').on("switchChange.bootstrapSwitch", function () {
                var $btn = $(this);

                if (sidebar_mini_active == true) {
                    $('body').removeClass('sidebar-mini');
                    sidebar_mini_active = false;
                    blackDashboard.showSidebarMessage('Sidebar mini deactivated...');
                } else {
                    $('body').addClass('sidebar-mini');
                    sidebar_mini_active = true;
                    blackDashboard.showSidebarMessage('Sidebar mini activated...');
                }

                // we simulate the window Resize so the charts will get updated in realtime.
                var simulateWindowResize = setInterval(function () {
                    window.dispatchEvent(new Event('resize'));
                }, 180);

                // we stop the simulation of Window Resize after the animations are completed
                setTimeout(function () {
                    clearInterval(simulateWindowResize);
                }, 1000);
            });

            $('.switch-change-color input').on("switchChange.bootstrapSwitch", function () {
                var $btn = $(this);

                if (white_color == true) {

                    $('body').addClass('change-background');
                    setTimeout(function () {
                        $('body').removeClass('change-background');
                        $('body').removeClass('white-content');
                    }, 900);
                    white_color = false;
                } else {

                    $('body').addClass('change-background');
                    setTimeout(function () {
                        $('body').removeClass('change-background');
                        $('body').addClass('white-content');
                    }, 900);

                    white_color = true;
                }


            });

            $('.light-badge').click(function () {
                $('body').addClass('white-content');
            });

            $('.dark-badge').click(function () {
                $('body').removeClass('white-content');
            });
        });
    });
</script>